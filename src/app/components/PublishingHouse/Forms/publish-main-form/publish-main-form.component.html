<section dir="rtl">
  <div class="container">
    <div>
      <h2 class="my-2"><span class="mainbordercolor border-2 border-bottom ">اضافة بيانات جديدة</span></h2>
    </div>
    <!-- Alert Messages -->
    <div *ngIf="successMessage" class="alert alert-success alert-dismissible fade show" role="alert">
      {{ successMessage }}
      <button type="button" class="btn-close" (click)="successMessage = ''" aria-label="Close"></button>
    </div>

    <div *ngIf="errorMessage" class="alert alert-danger alert-dismissible fade show" role="alert">
      {{ errorMessage }}
      <button type="button" class="btn-close" (click)="errorMessage = ''" aria-label="Close"></button>
    </div>

    <div class="accordion" id="accordionExample">

      <!-- Publishing House Update -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingInfo">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseInfo" aria-expanded="false" aria-controls="collapseInfo">
            🏠 تحديث معلومات دار النشر
          </button>
        </h2>
        <div id="collapseInfo" class="accordion-collapse collapse" aria-labelledby="headingInfo"
          data-bs-parent="#accordionExample">
          <div class="accordion-body">

            <form *ngIf="publishingHouse" (ngSubmit)="updatePublishingHouse()" #form="ngForm">
              <div class="mb-3">
                <label class="form-label">الاسم</label>
                <input type="text" [(ngModel)]="publishingHouse.name" name="name" class="form-control">
              </div>
              <div class="mb-3">
                <label class="form-label">العنوان الفرعي</label>
                <input type="text" [(ngModel)]="publishingHouse.subtitle" name="subtitle" class="form-control">
              </div>
              <div class="mb-3">
                <label class="form-label">من نحن</label>
                <textarea [(ngModel)]="publishingHouse.aboutUs" name="aboutUs" rows="4" class="form-control"></textarea>
              </div>
              <button type="submit" class="btn btn-outline-primary w-100">تحديث</button>
            </form>

          </div>
        </div>
      </div>

      <!-- Update Publishing House Images -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingImages">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseImages" aria-expanded="false" aria-controls="collapseImages">
            🖼️ تحديث صور دار النشر
          </button>
        </h2>
        <div id="collapseImages" class="accordion-collapse collapse" aria-labelledby="headingImages"
          data-bs-parent="#accordionExample">
          <div class="accordion-body">

            <form (ngSubmit)="submitImageUpdate()" #imageForm="ngForm">
              <!-- Logo Image Upload -->
              <div class="mb-3">
                <label class="form-label">شعار دار النشر</label>
                <input type="file" (change)="onImageSelected($event, 'image1')" accept="image/*" class="form-control">
              </div>

              <!-- About Us Image Upload -->
              <div class="mb-3">
                <label class="form-label">صورة قسم من نحن</label>
                <input type="file" (change)="onImageSelected($event, 'image2')" accept="image/*" class="form-control">
              </div>

              <button type="submit" class="btn btn-outline-success w-100">تحديث الصور</button>
            </form>

          </div>
        </div>
      </div>
<!-- Add Goal -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingGoal">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseGoal" aria-expanded="false" aria-controls="collapseGoal">
            🎯 إضافة هدف جديد
          </button>
        </h2>
        <div id="collapseGoal" class="accordion-collapse collapse" aria-labelledby="headingGoal"
          data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <form (ngSubmit)="submitNewGoal()" #goalForm="ngForm">
              <div class="row g-2 align-items-end">
                <div class="col-md-10">
                  <label class="form-label">النص</label>
                  <input type="text" [(ngModel)]="newGoal.text" name="goalText" class="form-control" required>
                </div>
                <div class="col-md-2">
                  <button type="submit" class="btn btn-success w-100">+</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Add Book -->
      <!-- <div class="accordion-item">
        <h2 class="accordion-header" id="headingBook">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseBook" aria-expanded="false" aria-controls="collapseBook">
            📚 إضافة كتاب جديد
          </button>
        </h2>
        <div id="collapseBook" class="accordion-collapse collapse" aria-labelledby="headingBook"
          data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <form (ngSubmit)="submitNewBook()" #bookForm="ngForm">
              <div class="row g-2 align-items-end">
                <div class="col-md-3">
                  <label class="form-label">العنوان</label>
                  <input type="text" [(ngModel)]="newBook.title" name="title" class="form-control" required>
                </div>
                <div class="col-md-2">
                  <label class="form-label">المؤلف</label>
                  <input type="text" [(ngModel)]="newBook.author" name="author" class="form-control" required>
                </div>
                <div class="col-md-4">
                  <label class="form-label">الوصف</label>
                  <input type="text" [(ngModel)]="newBook.description" name="description" class="form-control" required>
                </div>
                <div class="col-md-2">
                  <label class="form-label">الصورة</label>
                  <input type="file" (change)="onFileSelected($event)" class="form-control">
                </div>
                <div class="col-md-1">
                  <button type="submit" class="btn btn-success w-100">+</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div> -->


      <!-- Add Service -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingService">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseService" aria-expanded="false" aria-controls="collapseService">
            🛠️ إضافة خدمة جديدة
          </button>
        </h2>
        <div id="collapseService" class="accordion-collapse collapse" aria-labelledby="headingService"
          data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <form (ngSubmit)="submitNewService()" #serviceForm="ngForm">
              <div class="row g-2 align-items-end">
                <div class="col-md-3">
                  <label class="form-label">اسم الخدمة</label>
                  <input type="text" [(ngModel)]="newService.name" name="name" class="form-control" required>
                </div>
                <div class="col-md-5">
                  <label class="form-label">الوصف</label>
                  <input type="text" [(ngModel)]="newService.description" name="description" class="form-control"
                    required>
                </div>
                <div class="col-md-2">
                  <label class="form-label">الصورة</label>
                  <input type="file" (change)="onServiceFileSelected($event)" class="form-control">
                </div>
                <div class="col-md-2">
                  <button type="submit" class="btn btn-success w-100">+</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Add Category -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingCategory">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseCategory" aria-expanded="false" aria-controls="collapseCategory">
            🗂️ إضافة تصنيف جديد
          </button>
        </h2>
        <div id="collapseCategory" class="accordion-collapse collapse" aria-labelledby="headingCategory"
          data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <form (ngSubmit)="submitNewCategory()" #categoryForm="ngForm">
              <div class="row g-2 align-items-end">
                <div class="col-md-4">
                  <label class="form-label">الاسم</label>
                  <input type="text" [(ngModel)]="newCategory.name" name="categoryName" class="form-control" required>
                </div>
                <div class="col-md-5">
                  <label class="form-label">الوصف</label>
                  <input type="text" [(ngModel)]="newCategory.description" name="categoryDescription"
                    class="form-control" required>
                </div>
                <div class="col-md-2">
                  <label class="form-label">الصورة</label>
                  <input type="file" (change)="onCategoryImageSelected($event)" class="form-control">
                </div>
                <div class="col-md-1">
                  <button type="submit" class="btn btn-success w-100">+</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Repeat similarly for Connect, Join, Goal, Service -->

      <!-- Add Connect -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingConnect">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseConnect" aria-expanded="false" aria-controls="collapseConnect">
            ☎️ إضافة طريقة تواصل
          </button>
        </h2>
        <div id="collapseConnect" class="accordion-collapse collapse" aria-labelledby="headingConnect"
          data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <form (ngSubmit)="submitNewConnect()" #connectForm="ngForm">
              <div class="row g-2 align-items-end">
                <div class="col-md-4">
                  <label class="form-label">العنوان</label>
                  <input type="text" [(ngModel)]="newConnect.title" name="connectTitle" class="form-control" required>
                </div>
                <div class="col-md-5">
                  <label class="form-label">الوصف</label>
                  <input type="text" [(ngModel)]="newConnect.description" name="connectDescription" class="form-control"
                    required>
                </div>
                <div class="col-md-2">
                  <label class="form-label">الصورة</label>
                  <input type="file" (change)="onConnectImageSelected($event)" class="form-control">
                </div>
                <div class="col-md-1">
                  <button type="submit" class="btn btn-success w-100">+</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Add Join -->
      <!-- <div class="accordion-item">
        <h2 class="accordion-header" id="headingJoin">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseJoin" aria-expanded="false" aria-controls="collapseJoin">
            🤝 إضافة طريقة انضمام
          </button>
        </h2>
        <div id="collapseJoin" class="accordion-collapse collapse" aria-labelledby="headingJoin"
          data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <form (ngSubmit)="submitNewJoin()" #joinForm="ngForm">
              <div class="row g-2 align-items-end">
                <div class="col-md-5">
                  <label class="form-label">العنوان</label>
                  <input type="text" [(ngModel)]="newJoin.title" name="joinTitle" class="form-control" required>
                </div>
                <div class="col-md-5">
                  <label class="form-label">الوصف</label>
                  <input type="text" [(ngModel)]="newJoin.description" name="joinDescription" class="form-control"
                    required>
                </div>
                <div class="col-md-2">
                  <button type="submit" class="btn btn-success w-100">+</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div> -->

      

      

    </div>
  </div>
</section>